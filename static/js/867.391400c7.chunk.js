"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[867],{148:(e,s,a)=>{a.d(s,{Z:()=>o});const t="Error_container__HDA9I",i="Error_messageBox__EwZWm",n="Error_message__VqNLX";var c=a(184);const o=e=>{let{error:s}=e;return(0,c.jsx)("div",{className:t,children:(0,c.jsx)("div",{className:i,children:(0,c.jsx)("span",{className:n,children:s})})})}},901:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(294);t.Z.defaults.baseURL="https://api.themoviedb.org/3";const i="d5b1fa00344d722420179540213be4e9";const n={getTrendingMovies:async function(){return await t.Z.get("/trending/movie/day?api_key=".concat(i,"&language=en-US"))},getSearchResults:async function(e){return await t.Z.get("/search/movie?api_key=".concat(i,"&query=").concat(e,"&include_adult=false&language=en-US&page=1"))},getMovieDetails:async function(e){return await t.Z.get("/movie/".concat(e,"?api_key=").concat(i,"&language=en-US"))},getActors:async function(e){return await t.Z.get("/movie/".concat(e,"/credits?api_key=").concat(i,"&language=en-US"))},getReviews:async function(e){return await t.Z.get("/movie/".concat(e,"/reviews?api_key=").concat(i,"&language=en-US"))}}},867:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(148),i=a(844),n=a(901),c=a(791),o=a(689),r=a(87);const l={movieInfos:"MovieDetails_movieInfos__NN9TL",infos:"MovieDetails_infos__pLR1j",goBackBtn:"MovieDetails_goBackBtn__1ggER",poster:"MovieDetails_poster__5vMzK",rightSide:"MovieDetails_rightSide__QfjyA",mainInfos:"MovieDetails_mainInfos__Q8QLu",infoBox:"MovieDetails_infoBox__mZ6--",title:"MovieDetails_title__qXQSm",infoType:"MovieDetails_infoType__okWiR",descr:"MovieDetails_descr__eYyqG",gener:"MovieDetails_gener__My0Bl",genersList:"MovieDetails_genersList__3d0uF",moreInfoNav:"MovieDetails_moreInfoNav__Dq5wK",nav:"MovieDetails_nav__pwZpC",navTitle:"MovieDetails_navTitle__pqLc7",navBtns:"MovieDetails_navBtns__uuweI",navBtn:"MovieDetails_navBtn__fcrJ2"};var v=a(567),_=a(184);const d=()=>{const[e,s]=(0,c.useState)({}),[a,d]=(0,c.useState)(""),[m,g]=(0,c.useState)(!1),[h,f]=(0,c.useState)(""),[u,p]=(0,c.useState)(""),[j,x]=(0,c.useState)(""),N=(0,o.TH)();return(0,c.useEffect)((()=>{var e;let s=null===(e=N.state)||void 0===e?void 0:e.from.pathname,a=N.pathname.split("/movies/").join("");/^\d+$/.test(a)?(f(a),x(s)):(a=a.split("/")[0],f(a),N.state||(s=N.pathname.split("/".concat(a))[0],x(s)))}),[N]),(0,c.useEffect)((()=>{if(h.toString().length>0){async function e(){const e=(await n.Z.getMovieDetails(h)).data;return s(e),e}g(!0),e().catch((e=>{console.log(e),d(e.message)})).finally(g(!1))}}),[h]),(0,c.useEffect)((()=>{const s=e.poster_path,a="https://image.tmdb.org/t/p/original/".concat(s);p(a)}),[e]),a.length>0?(0,_.jsx)(t.Z,{error:a}):m||0===Object.keys(e).length?(0,_.jsx)(i.Z,{}):(0,_.jsxs)("div",{className:l.container,children:[(0,_.jsxs)("section",{className:l.movieInfos,children:[(0,_.jsx)("div",{className:l.goBack,children:(0,_.jsxs)(r.rU,{to:j,className:l.goBackBtn,children:[(0,_.jsx)(v.Wuc,{}),"Go back"]})}),(0,_.jsxs)("div",{className:l.infos,children:[(0,_.jsx)("div",{className:l.leftSide,children:(0,_.jsx)("img",{src:u,alt:"".concat(e.title," poster"),className:l.poster})}),(0,_.jsxs)("div",{className:l.rightSide,children:[(0,_.jsxs)("div",{className:l.mainInfos,children:[(0,_.jsx)("h2",{className:l.title,children:e.title}),(0,_.jsxs)("span",{className:l.score,children:["User Score: ",(0,_.jsxs)("span",{children:[Math.trunc(e.popularity),"%"]})]})]}),(0,_.jsxs)("div",{className:l.infoBox,children:[(0,_.jsx)("h3",{className:l.infoType,children:"Overview"}),(0,_.jsx)("p",{className:l.descr,children:e.overview})]}),(0,_.jsxs)("div",{className:l.infoBox,children:[(0,_.jsx)("h3",{className:l.infoType,children:"Genres"}),(0,_.jsx)("ul",{className:l.genersList,children:e.genres.map((e=>(0,_.jsx)("li",{className:l.gener,children:e.name},e.id)))})]})]})]})]}),(0,_.jsx)("section",{className:l.moreInfoNav,children:(0,_.jsxs)("div",{className:l.nav,children:[(0,_.jsx)("h4",{className:l.navTitle,children:"Additional information"}),(0,_.jsxs)("div",{className:l.navBtns,children:[(0,_.jsx)(r.rU,{to:"/movies/".concat(h,"/cast"),className:l.navBtn,state:{from:N},children:"Cast"}),(0,_.jsx)(r.rU,{to:"/movies/".concat(h,"/reviews"),className:l.navBtn,state:{from:N},children:"Reviews"})]})]})}),(0,_.jsx)("section",{className:l.moreInfo,children:(0,_.jsx)(c.Suspense,{fallback:(0,_.jsx)(i.Z,{}),children:(0,_.jsx)(o.j3,{})})})]})}}}]);
//# sourceMappingURL=867.391400c7.chunk.js.map