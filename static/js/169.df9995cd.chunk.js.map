{"version":3,"file":"static/js/169.df9995cd.chunk.js","mappings":"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","sources":["components/pages/common/components/Numbering.js","webpack://goit-react-hw-05-movies/./src/components/pages/common/components/error/Error.module.css?bb1d","components/pages/common/components/error/Error.jsx","webpack://goit-react-hw-05-movies/./src/components/pages/common/components/render-list/RenderList.module.css?6c6c","components/pages/common/components/render-list/RenderList.jsx","components/pages/common/services/MoviesService.js","webpack://goit-react-hw-05-movies/./src/components/pages/movies/MoviesPage.module.css?9666","components/pages/movies/MoviesPage.jsx"],"sourcesContent":["function Numbering(list) {\n  let nr = 1;\n  list.forEach(item => {\n    item.nr = nr;\n    nr++;\n  });\n}\n\nexport default Numbering;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Error_container__HDA9I\",\"messageBox\":\"Error_messageBox__EwZWm\",\"message\":\"Error_message__VqNLX\"};","import PropTypes from 'prop-types';\nimport styles from './Error.module.css';\n\nconst Error = ({ error }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.messageBox}>\n        <span className={styles.message}>{error}</span>\n      </div>\n    </div>\n  );\n};\n\nError.propTypes = {\n  error: PropTypes.string,\n};\n\nexport default Error;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"RenderList_list__SIGhA\",\"item\":\"RenderList_item__1fSah\"};","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport styles from './RenderList.module.css';\n\nconst RenderList = ({ list }) => {\n  const pagePath = useLocation();\n\n  return (\n    <>\n      <ul className={styles.list}>\n        {list.map(item => (\n          <li key={item.id}>\n            <Link\n              to={`/movies/${item.id}`}\n              className={styles.item}\n              state={{\n                from: pagePath,\n              }}\n            >\n              <span>{item.nr + '. '}</span>\n              {item.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nRenderList.propTypes = {\n  list: PropTypes.array,\n};\n\nexport default RenderList;\n","import axios from 'axios';\n\nconst endpoint = 'https://api.themoviedb.org/3';\naxios.defaults.baseURL = endpoint;\nconst API_KEY = 'd5b1fa00344d722420179540213be4e9';\n\nasync function getTrendingMovies() {\n  const response = await axios.get(\n    `/trending/movie/day?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nasync function getSearchResults(term) {\n  const response = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${term}&include_adult=false&language=en-US&page=1`\n  );\n\n  return response;\n}\n\nasync function getMovieDetails(id) {\n  const response = await axios.get(\n    `/movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nasync function getActors(id) {\n  const response = await axios.get(\n    `/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nasync function getReviews(id) {\n  const response = await axios.get(\n    `/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nconst MoviesService = {\n  getTrendingMovies,\n  getSearchResults,\n  getMovieDetails,\n  getActors,\n  getReviews,\n};\n\nexport default MoviesService;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesPage_container__Z9+kq\",\"searchBar\":\"MoviesPage_searchBar__-fFY7\",\"searchInput\":\"MoviesPage_searchInput__JGrxA\",\"searchBtn\":\"MoviesPage_searchBtn__OgBcV\"};","import { useState } from 'react';\nimport styles from './MoviesPage.module.css';\nimport RenderList from '../common/components/render-list/RenderList';\nimport MoviesService from '../common/services/MoviesService';\nimport Numbering from '../common/components/Numbering';\nimport Loader from '../common/components/loader/Loader';\nimport Error from '../common/components/error/Error';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const [term, setTerm] = useState('');\n  const [movieList, setMovieList] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [, setSearchParams] = useSearchParams();\n\n  const handelChange = evt => {\n    const input = evt.target.value;\n    setTerm(input);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    setSearchParams({ query: term });\n\n    async function getSearchResults() {\n      const response = await MoviesService.getSearchResults(term);\n      const result = response.data.results;\n      Numbering(result);\n      setMovieList(result);\n\n      return result;\n    }\n\n    setIsLoading(true);\n\n    getSearchResults()\n      .catch(err => {\n        console.log(err);\n        setError(err.message);\n      })\n      .finally(setIsLoading(false));\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (error.length > 0) {\n    return <Error error={error} />;\n  }\n\n  return (\n    <div className={styles.container}>\n      <section className={styles.search}>\n        <form className={styles.searchBar} onSubmit={handleSubmit}>\n          <label>\n            <input\n              type=\"text\"\n              className={styles.searchInput}\n              autoComplete=\"off\"\n              value={term}\n              autoFocus\n              placeholder=\"Search movies\"\n              onChange={handelChange}\n            />\n          </label>\n          <button className={styles.searchBtn} type=\"submit\">\n            Search\n          </button>\n        </form>\n      </section>\n      <section className={styles.results}>\n        <RenderList list={movieList} />\n      </section>\n    </div>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["list","nr","forEach","item","_ref","error","_jsx","className","styles","children","pagePath","useLocation","_Fragment","map","_jsxs","Link","to","concat","id","state","from","title","axios","API_KEY","getTrendingMovies","async","getSearchResults","term","getMovieDetails","getActors","getReviews","MoviesPage","setTerm","useState","movieList","setMovieList","setError","isLoading","setIsLoading","setSearchParams","useSearchParams","Loader","length","Error","onSubmit","evt","preventDefault","query","result","MoviesService","data","results","Numbering","catch","err","console","log","message","finally","type","autoComplete","value","autoFocus","placeholder","onChange","input","target","RenderList"],"sourceRoot":""}