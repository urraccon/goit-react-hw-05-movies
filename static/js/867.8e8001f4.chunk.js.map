{"version":3,"file":"static/js/867.8e8001f4.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/pages/common/components/error/Error.module.css?bb1d","components/pages/common/components/error/Error.jsx","components/pages/common/services/MoviesService.js","webpack://goit-react-hw-05-movies/./src/components/pages/movies/movie/MovieDetails.module.css?7755","components/pages/movies/movie/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Error_container__HDA9I\",\"messageBox\":\"Error_messageBox__EwZWm\",\"message\":\"Error_message__VqNLX\"};","import PropTypes from 'prop-types';\nimport styles from './Error.module.css';\n\nconst Error = ({ error }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.messageBox}>\n        <span className={styles.message}>{error}</span>\n      </div>\n    </div>\n  );\n};\n\nError.propTypes = {\n  error: PropTypes.string,\n};\n\nexport default Error;\n","import axios from 'axios';\n\nconst endpoint = 'https://api.themoviedb.org/3';\naxios.defaults.baseURL = endpoint;\nconst API_KEY = 'd5b1fa00344d722420179540213be4e9';\n\nasync function getTrendingMovies() {\n  const response = await axios.get(\n    `/trending/movie/day?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nasync function getSearchResults(term) {\n  const response = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${term}&include_adult=false&language=en-US&page=1`\n  );\n\n  return response;\n}\n\nasync function getMovieDetails(id) {\n  const response = await axios.get(\n    `/movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nasync function getActors(id) {\n  const response = await axios.get(\n    `/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nasync function getReviews(id) {\n  const response = await axios.get(\n    `/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n}\n\nconst MoviesService = {\n  getTrendingMovies,\n  getSearchResults,\n  getMovieDetails,\n  getActors,\n  getReviews,\n};\n\nexport default MoviesService;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieInfos\":\"MovieDetails_movieInfos__NN9TL\",\"infos\":\"MovieDetails_infos__pLR1j\",\"goBackBtn\":\"MovieDetails_goBackBtn__1ggER\",\"poster\":\"MovieDetails_poster__5vMzK\",\"rightSide\":\"MovieDetails_rightSide__QfjyA\",\"mainInfos\":\"MovieDetails_mainInfos__Q8QLu\",\"infoBox\":\"MovieDetails_infoBox__mZ6--\",\"title\":\"MovieDetails_title__qXQSm\",\"infoType\":\"MovieDetails_infoType__okWiR\",\"descr\":\"MovieDetails_descr__eYyqG\",\"gener\":\"MovieDetails_gener__My0Bl\",\"genersList\":\"MovieDetails_genersList__3d0uF\",\"moreInfoNav\":\"MovieDetails_moreInfoNav__Dq5wK\",\"nav\":\"MovieDetails_nav__pwZpC\",\"navTitle\":\"MovieDetails_navTitle__pqLc7\",\"navBtns\":\"MovieDetails_navBtns__uuweI\",\"navBtn\":\"MovieDetails_navBtn__fcrJ2\"};","import Error from 'components/pages/common/components/error/Error';\nimport Loader from 'components/pages/common/components/loader/Loader';\nimport MoviesService from 'components/pages/common/services/MoviesService';\nimport { Suspense, useEffect, useState } from 'react';\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nimport styles from './MovieDetails.module.css';\nimport { FaArrowLeftLong } from 'react-icons/fa6';\n\nconst MovieDetails = () => {\n  const [movieInfos, setMovieInfos] = useState({});\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [movieId, setMovieId] = useState('');\n  const [imgSrc, setImgSrc] = useState('');\n  const [prevPath, setPrevPath] = useState('');\n\n  const pagePath = useLocation();\n\n  useEffect(() => {\n    debugger;\n    let prevPage = pagePath.state?.from.pathname;\n    let id = pagePath.pathname.split('/movies/').join('');\n\n    if (/^\\d+$/.test(id)) {\n      setMovieId(id);\n      setPrevPath(prevPage);\n    } else {\n      if (!pagePath.state) {\n        id = id.split('/')[0];\n        prevPage = pagePath.pathname.split(`/${id}`)[0];\n        setMovieId(id);\n        setPrevPath(prevPage);\n      }\n    }\n  }, [pagePath]);\n\n  useEffect(() => {\n    if (movieId.toString().length > 0) {\n      async function getMovieDetails() {\n        const response = await MoviesService.getMovieDetails(movieId);\n        const result = response.data;\n        setMovieInfos(result);\n\n        return result;\n      }\n\n      setIsLoading(true);\n\n      getMovieDetails()\n        .catch(err => {\n          console.log(err);\n          setError(err.message);\n        })\n        .finally(setIsLoading(false));\n    }\n  }, [movieId]);\n\n  useEffect(() => {\n    const posterPath = movieInfos.poster_path;\n    const imageURL = `https://image.tmdb.org/t/p/original/${posterPath}`;\n    setImgSrc(imageURL);\n  }, [movieInfos]);\n\n  if (error.length > 0) {\n    return <Error error={error} />;\n  }\n\n  if (isLoading || Object.keys(movieInfos).length === 0) {\n    return <Loader />;\n  }\n\n  return (\n    <div className={styles.container}>\n      <section className={styles.movieInfos}>\n        <div className={styles.goBack}>\n          <Link to={prevPath} className={styles.goBackBtn}>\n            <FaArrowLeftLong />\n            Go back\n          </Link>\n        </div>\n        <div className={styles.infos}>\n          <div className={styles.leftSide}>\n            <img\n              src={imgSrc}\n              alt={`${movieInfos.title} poster`}\n              className={styles.poster}\n            />\n          </div>\n          <div className={styles.rightSide}>\n            <div className={styles.mainInfos}>\n              <h2 className={styles.title}>{movieInfos.title}</h2>\n              <span className={styles.score}>\n                User Score: <span>{Math.trunc(movieInfos.popularity)}%</span>\n              </span>\n            </div>\n            <div className={styles.infoBox}>\n              <h3 className={styles.infoType}>Overview</h3>\n              <p className={styles.descr}>{movieInfos.overview}</p>\n            </div>\n            <div className={styles.infoBox}>\n              <h3 className={styles.infoType}>Genres</h3>\n              <ul className={styles.genersList}>\n                {movieInfos.genres.map(genre => (\n                  <li key={genre.id} className={styles.gener}>\n                    {genre.name}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className={styles.moreInfoNav}>\n        <div className={styles.nav}>\n          <h4 className={styles.navTitle}>Additional information</h4>\n          <div className={styles.navBtns}>\n            <Link\n              to={`/movies/${movieId}/cast`}\n              className={styles.navBtn}\n              state={{ from: pagePath }}\n            >\n              Cast\n            </Link>\n            <Link\n              to={`/movies/${movieId}/reviews`}\n              className={styles.navBtn}\n              state={{ from: pagePath }}\n            >\n              Reviews\n            </Link>\n          </div>\n        </div>\n      </section>\n      <section className={styles.moreInfo}>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </section>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["_ref","error","_jsx","className","styles","children","axios","API_KEY","getTrendingMovies","async","concat","getSearchResults","term","getMovieDetails","id","getActors","getReviews","MovieDetails","movieInfos","setMovieInfos","useState","setError","isLoading","setIsLoading","movieId","setMovieId","imgSrc","setImgSrc","prevPath","setPrevPath","pagePath","useLocation","useEffect","_pagePath$state","prevPage","state","from","pathname","split","join","test","toString","length","result","MoviesService","data","catch","err","console","log","message","finally","posterPath","poster_path","imageURL","Error","Object","keys","Loader","_jsxs","Link","to","FaArrowLeftLong","src","alt","title","Math","trunc","popularity","overview","genres","map","genre","name","Suspense","fallback","Outlet"],"sourceRoot":""}